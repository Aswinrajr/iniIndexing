"use strict";(self.webpackChunk_Minimall_Minimall_kit_react=self.webpackChunk_Minimall_Minimall_kit_react||[]).push([[302],{58772:function(e,r,n){n.d(r,{Z:function(){return p}});var t=n(1413),a=n(45987),c=n(57631),o=n(5448),s=n(71235),i=n(66382),u=n(605),l=n(46417),d=["title","content","action","open","onClose"];function p(e){var r=e.title,n=e.content,p=e.action,f=e.open,h=e.onClose,Z=(0,a.Z)(e,d);return(0,l.jsxs)(c.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,maxWidth:"xs",open:f,onClose:h},Z),{},{children:[(0,l.jsx)(o.Z,{sx:{pb:2},children:r}),n&&(0,l.jsxs)(s.Z,{sx:{typography:"body2"},children:[" ",n," "]}),(0,l.jsxs)(i.Z,{children:[p,(0,l.jsx)(u.Z,{variant:"outlined",color:"inherit",onClick:h,children:"Cancel"})]})]}))}},48669:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(1413),a=n(45987),c=n(16157),o=n(62463),s=n(42669),i=n(80493),u=n(77449),l=n(2135),d=n(46417);function p(e){var r=e.link,n=e.activeLast,a=e.disabled,o=r.name,s=r.href,i=r.icon,p=(0,t.Z)({display:"inline-flex",alignItems:"center",color:"text.primary"},a&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),f=(0,d.jsxs)(d.Fragment,{children:[i&&(0,d.jsx)(c.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:i}),o]});return s?(0,d.jsx)(u.Z,{component:l.rU,to:s,sx:p,children:f}):(0,d.jsxs)(c.Z,{sx:p,children:[" ",f," "]})}var f=["links","action","heading","moreLink","activeLast","sx"];function h(e){var r=e.links,n=e.action,l=e.heading,h=e.moreLink,x=e.activeLast,v=e.sx,g=(0,a.Z)(e,f),m=r[r.length-1].name;return(0,d.jsxs)(c.Z,{sx:(0,t.Z)({mb:5},v),children:[(0,d.jsxs)(o.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(c.Z,{sx:{flexGrow:1},children:[l&&(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:l}),!!r.length&&(0,d.jsx)(i.Z,(0,t.Z)((0,t.Z)({separator:(0,d.jsx)(Z,{})},g),{},{children:r.map((function(e){return(0,d.jsx)(p,{link:e,activeLast:x,disabled:e.name===m},e.name||"")}))}))]}),n&&(0,d.jsxs)(c.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!h&&(0,d.jsx)(c.Z,{sx:{mt:2},children:h.map((function(e){return(0,d.jsx)(u.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function Z(){return(0,d.jsx)(c.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},72805:function(e,r,n){n.d(r,{Z:function(){return t.Z}});var t=n(48669)},54950:function(e,r,n){n.d(r,{$F:function(){return x},$K:function(){return Z},El:function(){return f},K6:function(){return d},dH:function(){return p},r$:function(){return v},xb:function(){return h},yA:function(){return g}});var t=n(1413),a=n(74165),c=n(15861),o=n(90573),s=n(36797),i=n(36974),u="journals",l=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){var n,t,o,i=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"journal_covers",t=(0,s.cF)(),o=r.map(function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){var c,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,s.iH)(t,"".concat(n,"/").concat(r.name)),e.next=3,(0,s.KV)(c,r);case 3:return o=e.sent,e.abrupt("return",(0,s.Jt)(o.ref));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(o));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){var n,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n={title:r.title,abbreviation:r.abbreviation||"",url:r.url||"",issnPrint:r.issnPrint||"",issnOnline:r.issnOnline||"",publisher:r.publisher||"",discipline:r.discipline||"",chiefEditor:r.chiefEditor||"",email:r.email||"",country:r.country||"",language:r.language||"",frequency:r.frequency||"",yearOfStarting:r.yearOfStarting||"",articleFormat:r.articleFormat||"",licenseType:r.licenseType||"",description:r.description||"",normalProcessing:r.normalProcessing||!0,fastTrackProcessing:r.fastTrackProcessing||!1},!(r.coverImage&&r.coverImage.length>0)){e.next=7;break}return e.next=5,l(r.coverImage,"journal_covers");case 5:c=e.sent,n.coverImage=c;case 7:return e.next=9,(0,o.ET)((0,o.hJ)(i.ZP,u),n);case 9:return s=e.sent,console.log("Document written with ID: ",s.id),e.abrupt("return",(0,t.Z)({id:s.id},n));case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error adding document: ",e.t0),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r,n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,o.JU)(i.ZP,u,r),!(n.coverImage&&n.coverImage.length>0)){e.next=7;break}return e.next=5,l(n.coverImage,"journal_covers");case 5:t=e.sent,n.coverImage=t;case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error("Error updating document: ",e.t0),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.JU)(i.ZP,u,r),e.next=4,(0,o.oe)(n);case 4:console.log("Document deleted with ID: ",r),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error deleting document: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.PL)((0,o.hJ)(i.ZP,u));case 3:return r=e.sent,n=r.docs.map((function(e){return(0,t.Z)({id:e.id},e.data())})),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting documents: ",e.t0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r){var n,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,o.JU)(i.ZP,u,r),e.next=4,(0,o.QT)(n);case 4:if((c=e.sent).exists()){e.next=8;break}throw console.error("No such document with ID: ".concat(r)),new Error("No such document!");case 8:return e.abrupt("return",(0,t.Z)({id:c.id},c.data()));case 11:throw e.prev=11,e.t0=e.catch(0),console.error("Error getting document: ",e.t0),new Error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r,n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"string"===typeof r){e.next=3;break}throw new Error("propertyId must be a string");case 3:if("boolean"===typeof n){e.next=5;break}throw new Error("featuredStatus must be a boolean");case 5:return console.log("Updating property ID: ".concat(r," with featured status: ").concat(n)),t=(0,o.JU)(i.ZP,u,r),e.next=9,(0,o.QT)(t);case 9:if(e.sent.exists()){e.next=12;break}throw new Error("No document found with ID: ".concat(r));case 12:return e.next=14,(0,o.r7)(t,{featuredStatus:n});case 14:console.log("Featured status updated to ".concat(n," for property ID: ").concat(r)),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(0),console.error("Error updating featured status: ",e.t0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(r,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r,n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,o.JU)(i.ZP,u,r),e.next=4,(0,o.r7)(t,{UserStatus:n});case 4:console.log("User status updated to ".concat(n," for User ID: ").concat(r)),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating User status: ",e.t0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(r,n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,o.JU)(i.ZP,u,r),e.next=4,(0,o.r7)(t,{BrowseStatus:n});case 4:console.log("User status updated to ".concat(n," for User ID: ").concat(r)),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating User status: ",e.t0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,n){return e.apply(this,arguments)}}()},30302:function(e,r,n){n.r(r);var t=n(74165),a=n(15861),c=n(29439),o=n(1413),s=n(605),i=n(39874),u=n(80654),l=n(44874),d=n(90495),p=n(59629),f=n(37982),h=n(53805),Z=n(11626),x=n(18104),v=n(81962),g=n(42669),m=n(73803),j=n(47313),w=n(58467),b=n(2135),y=n(58772),k=n(72805),S=n(8730),E=n(22608),D=n(41034),I=n(54950),P=n(48175),C=n(46417);r.default=function(){var e=(0,j.useState)([]),r=(0,c.Z)(e,2),n=r[0],U=r[1],T=(0,j.useState)([]),F=(0,c.Z)(T,2),J=F[0],_=F[1],B=(0,j.useState)(0),L=(0,c.Z)(B,2),A=L[0],N=L[1],O=(0,j.useState)(5),q=(0,c.Z)(O,2),M=q[0],$=q[1],R=(0,j.useState)(null),K=(0,c.Z)(R,2),W=K[0],H=(K[1],(0,j.useState)(null)),Q=(0,c.Z)(H,2),V=Q[0],G=(Q[1],(0,j.useState)(!1)),Y=(0,c.Z)(G,2),z=(Y[0],Y[1],(0,j.useState)(!1)),X=(0,c.Z)(z,2),ee=X[0],re=X[1],ne=(0,j.useState)(null),te=(0,c.Z)(ne,2),ae=(te[0],te[1]),ce=(0,j.useState)(null),oe=(0,c.Z)(ce,2),se=oe[0],ie=oe[1],ue=(0,j.useState)([]),le=(0,c.Z)(ue,2),de=le[0],pe=le[1],fe=(0,j.useState)(null),he=(0,c.Z)(fe,2),Ze=he[0],xe=(he[1],(0,j.useState)(null)),ve=(0,c.Z)(xe,2),ge=ve[0],me=ve[1],je=(0,j.useState)(""),we=(0,c.Z)(je,2),be=we[0],ye=(we[1],(0,j.useState)("")),ke=(0,c.Z)(ye,2),Se=ke[0],Ee=(ke[1],(0,j.useState)([])),De=(0,c.Z)(Ee,2),Ie=(De[0],De[1],(0,j.useState)()),Pe=(0,c.Z)(Ie,2),Ce=(Pe[0],Pe[1],(0,j.useState)([])),Ue=(0,c.Z)(Ce,2),Te=(Ue[0],Ue[1],(0,D.Ds)().enqueueSnackbar),Fe=(0,w.s0)();(0,j.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,I.xb)();case 3:r=e.sent,U(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching properties or categories:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Je=function(){re(!1)},_e=function(){ae(null),me(null)},Be=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!se){e.next=16;break}return e.prev=1,e.next=4,(0,I.El)(se);case 4:console.log("Property deleted successfully"),Te("Property deleted successfully",{variant:"success"}),U(n.filter((function(e){return e.id!==se}))),Je(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error deleting property:",e.t0),Te("Error deleting property",{variant:"error"});case 14:e.next=18;break;case 16:console.error("No property ID selected for deletion"),Te("No property ID selected for deletion",{variant:"warning"});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Le=n.filter((function(e){var r=!0,n=e.createdAt;return n instanceof Date||(n=n&&"function"===typeof n.toDate?n.toDate():new Date(n)),W&&(r=r&&n>=new Date(W)),V&&(r=r&&n<=new Date(V)),be&&(r=r&&e.category===be),Se&&(r=r&&e.propertyType===Se),r})),Ae=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,I.r$)(n,r);case 3:Te(" status updated successfully"),a=de.map((function(e){return e.id===n?(0,o.Z)((0,o.Z)({},e),{},{UserStatus:r}):e})),pe(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error updating  status:",e.t0),Te("Error updating  status",{variant:"error"});case 12:return e.prev=12,_e(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(r,n){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,I.yA)(n,r);case 3:Te(" status updated successfully"),a=de.map((function(e){return e.id===n?(0,o.Z)((0,o.Z)({},e),{},{BrowseStatus:r}):e})),pe(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error updating  status:",e.t0),Te("Error updating  status",{variant:"error"});case 12:return e.prev=12,_e(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(r,n){return e.apply(this,arguments)}}(),Oe=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,a){var c,s,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.target.checked,e.prev=1,e.next=4,(0,I.$F)(r,c);case 4:console.log("Featured status updated to ".concat(c," for property ID: ").concat(r)),Te("Featured status updated successfully"),s=n.map((function(e){return e.id===r?(0,o.Z)((0,o.Z)({},e),{},{featuredStatus:c}):e})),U(s),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error updating featured status: ",e.t0),Te("Error updating featured status: ".concat(e.t0.message),{variant:"error"}),i=n.map((function(e){return e.id===r?(0,o.Z)((0,o.Z)({},e),{},{featuredStatus:!c}):e})),U(i);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r,n){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(k.Z,{heading:"Journal List",links:[{name:"Dashboard",href:P.vB.root},{name:"Journal",href:P.vB.eCommerce.root},{name:"List"}],action:(0,C.jsx)(s.Z,{component:b.rU,to:"/dashboard/Journal/new",variant:"contained",startIcon:(0,C.jsx)(S.Z,{icon:"eva:plus-fill"}),children:"New"})}),(0,C.jsx)(i.Z,{component:u.Z,children:(0,C.jsxs)(l.Z,{children:[(0,C.jsx)(d.Z,{children:(0,C.jsxs)(p.Z,{children:[(0,C.jsx)(f.Z,{padding:"checkbox",children:"ID"}),(0,C.jsx)(f.Z,{children:"Title"}),(0,C.jsx)(f.Z,{children:"Abbreviation"}),(0,C.jsx)(f.Z,{children:"Publisher"}),(0,C.jsx)(f.Z,{children:"Discipline"}),(0,C.jsx)(f.Z,{children:"Language"}),(0,C.jsx)(f.Z,{children:"Frequency"}),(0,C.jsx)(f.Z,{children:"Year"}),(0,C.jsx)(f.Z,{children:"License"}),(0,C.jsx)(f.Z,{children:"Featured Status"}),(0,C.jsx)(f.Z,{children:"View"}),(0,C.jsx)(f.Z,{children:"BrowseStatus"}),(0,C.jsx)(f.Z,{children:"Status Action"}),(0,C.jsx)(f.Z,{children:"Edit"})]})}),(0,C.jsx)(h.Z,{children:Le.slice(A*M,A*M+M).map((function(e,r){var t,a=(t=e.id,-1!==J.indexOf(t));return(0,C.jsxs)(p.Z,{hover:!0,onClick:function(){return function(e){if("all"!==e){var r=J.indexOf(e),t=[];-1===r?t=t.concat(J,e):0===r?t=t.concat(J.slice(1)):r===J.length-1?t=t.concat(J.slice(0,-1)):r>0&&(t=t.concat(J.slice(0,r),J.slice(r+1))),_(t)}else J.length===n.length?_([]):_(n.map((function(e){return e.id})))}(e.id)},role:"checkbox","aria-checked":a,selected:a,children:[(0,C.jsx)(f.Z,{children:A*M+r+1}),(0,C.jsx)(f.Z,{children:e.title}),(0,C.jsx)(f.Z,{children:e.abbreviation}),(0,C.jsx)(f.Z,{children:e.publisher}),(0,C.jsx)(f.Z,{children:e.discipline}),(0,C.jsx)(f.Z,{children:e.language}),(0,C.jsx)(f.Z,{children:e.frequency}),(0,C.jsx)(f.Z,{children:e.yearOfStarting}),(0,C.jsx)(f.Z,{children:e.licenseType}),(0,C.jsx)(f.Z,{children:(0,C.jsx)(Z.Z,{checked:e.featuredStatus,onChange:function(r){return Oe(e.id,r)},color:"primary"})}),(0,C.jsx)(f.Z,{children:(0,C.jsx)(x.Z,{onClick:function(r){return n=e.id,console.log("Property Id:",n),void Fe(P.vB.eCommerce.view(n));var n},children:(0,C.jsx)(S.Z,{icon:"eva:eye-fill"})})}),(0,C.jsx)(f.Z,{children:(0,C.jsxs)("select",{name:"BrowseStatus",label:"Browse Status Type",placeholder:"Browse Status Type",onChange:function(r){return Ne(r.target.value,e.id)},children:[(0,C.jsx)("option",{value:""}),(0,C.jsx)("option",{value:"indexed",children:"Indexed"}),(0,C.jsx)("option",{value:"master",children:"Master"}),(0,C.jsx)("option",{value:"evaluation",children:"Evaluation"})]})}),(0,C.jsx)(f.Z,{children:(0,C.jsx)(x.Z,{color:ge?"primary":"default",onClick:function(r){return function(e,r){ie(r),me(e.currentTarget)}(r,e.id)},children:(0,C.jsx)(S.Z,{icon:"eva:more-vertical-fill"})})}),(0,C.jsxs)(f.Z,{children:[(0,C.jsx)(x.Z,{onClick:function(){e.id?(ie(e.id),re(!0)):(console.error("No journal ID available"),Te("No journal ID available",{variant:"warning"})),_e()},sx:{color:"error.main"},children:(0,C.jsx)(S.Z,{icon:"eva:trash-2-outline"})}),(0,C.jsx)(x.Z,{onClick:function(r){return n=e.id,void Fe(P.vB.eCommerce.edit(n));var n},children:(0,C.jsx)(S.Z,{icon:"eva:edit-fill"})})]})]},e.id)}))})]})}),(0,C.jsx)(y.Z,{open:ee,onClose:Je,title:"Delete",content:"Are you sure want to delete?",action:(0,C.jsx)(s.Z,{variant:"contained",color:"error",onClick:Be,children:"Delete"})}),(0,C.jsxs)(E.Z,{open:ge,onClose:_e,arrow:"right-top",sx:{width:140},children:[(0,C.jsxs)(v.Z,{onClick:function(){Ae("Approve",Ze),_e()},children:[(0,C.jsx)(S.Z,{icon:"eva:checkmark-circle-2-fill",style:{color:"rgb(59, 130, 246)"}}),(0,C.jsx)(g.Z,{variant:"inherit",style:{color:"rgb(59, 130, 246)"},children:"Approve"})]}),(0,C.jsxs)(v.Z,{onClick:function(){Ae("Rejected",Ze),_e()},children:[(0,C.jsx)(S.Z,{icon:"bi:circle",style:{color:"rgb(202, 138, 4)"}}),(0,C.jsx)(g.Z,{variant:"inherit",style:{color:"rgb(202, 138, 4)"},children:"Rejected"})]}),(0,C.jsxs)(v.Z,{onClick:function(){Ae("Disabled",Ze),_e()},children:[(0,C.jsx)(S.Z,{icon:"carbon:close-outline",style:{color:"red"}}),(0,C.jsx)(g.Z,{variant:"inherit",style:{color:"rgb(239, 68, 68)"},children:"Disabled"})]})]}),(0,C.jsx)(m.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:Le.length,rowsPerPage:M,page:A,onPageChange:function(e,r){N(r)},onRowsPerPageChange:function(e){$(parseInt(e.target.value,10)),N(0)}})]})}}}]);