"use strict";(self.webpackChunk_Minimall_Minimall_kit_react=self.webpackChunk_Minimall_Minimall_kit_react||[]).push([[7657],{58772:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(1413),i=r(45987),c=r(57631),a=r(5448),s=r(71235),o=r(66382),l=r(605),u=r(46417),d=["title","content","action","open","onClose"];function h(e){var n=e.title,r=e.content,h=e.action,p=e.open,f=e.onClose,Z=(0,i.Z)(e,d);return(0,u.jsxs)(c.Z,(0,t.Z)((0,t.Z)({fullWidth:!0,maxWidth:"xs",open:p,onClose:f},Z),{},{children:[(0,u.jsx)(a.Z,{sx:{pb:2},children:n}),r&&(0,u.jsxs)(s.Z,{sx:{typography:"body2"},children:[" ",r," "]}),(0,u.jsxs)(o.Z,{children:[h,(0,u.jsx)(l.Z,{variant:"outlined",color:"inherit",onClick:f,children:"Cancel"})]})]}))}},48669:function(e,n,r){r.d(n,{Z:function(){return f}});var t=r(1413),i=r(45987),c=r(16157),a=r(62463),s=r(42669),o=r(80493),l=r(77449),u=r(2135),d=r(46417);function h(e){var n=e.link,r=e.activeLast,i=e.disabled,a=n.name,s=n.href,o=n.icon,h=(0,t.Z)({display:"inline-flex",alignItems:"center",color:"text.primary"},i&&!r&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),p=(0,d.jsxs)(d.Fragment,{children:[o&&(0,d.jsx)(c.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:o}),a]});return s?(0,d.jsx)(l.Z,{component:u.rU,to:s,sx:h,children:p}):(0,d.jsxs)(c.Z,{sx:h,children:[" ",p," "]})}var p=["links","action","heading","moreLink","activeLast","sx"];function f(e){var n=e.links,r=e.action,u=e.heading,f=e.moreLink,x=e.activeLast,v=e.sx,j=(0,i.Z)(e,p),m=n[n.length-1].name;return(0,d.jsxs)(c.Z,{sx:(0,t.Z)({mb:5},v),children:[(0,d.jsxs)(a.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(c.Z,{sx:{flexGrow:1},children:[u&&(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:u}),!!n.length&&(0,d.jsx)(o.Z,(0,t.Z)((0,t.Z)({separator:(0,d.jsx)(Z,{})},j),{},{children:n.map((function(e){return(0,d.jsx)(h,{link:e,activeLast:x,disabled:e.name===m},e.name||"")}))}))]}),r&&(0,d.jsxs)(c.Z,{sx:{flexShrink:0},children:[" ",r," "]})]}),!!f&&(0,d.jsx)(c.Z,{sx:{mt:2},children:f.map((function(e){return(0,d.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function Z(){return(0,d.jsx)(c.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},72805:function(e,n,r){r.d(n,{Z:function(){return t.Z}});var t=r(48669)},73493:function(e,n,r){r.d(n,{DV:function(){return h},LX:function(){return p},MU:function(){return Z},dL:function(){return d},ku:function(){return f}});var t=r(1413),i=r(74165),c=r(15861),a=r(90573),s=r(36797),o=r(36974),l="ijins",u=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r,t,a,o=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"ijin_covers",t=(0,s.cF)(),a=n.map(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var c,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,s.iH)(t,"".concat(r,"/").concat(n.name)),e.next=3,(0,s.KV)(c,n);case 3:return a=e.sent,e.abrupt("return",(0,s.Jt)(a.ref));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r,c,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r={title:n.title,issnPrint:n.issnPrint||"",issnOnline:n.issnOnline||"",yearOfStarting:n.yearOfStarting||"",licenseType:n.licenseType||"",ijin:n.ijin||"",email:n.email||""},!(n.coverImage&&n.coverImage.length>0)){e.next=7;break}return e.next=5,u(n.coverImage,"ijin_covers");case 5:c=e.sent,r.coverImage=c;case 7:return e.next=9,(0,a.ET)((0,a.hJ)(o.ZP,l),r);case 9:return s=e.sent,console.log("Document written with ID: ",s.id),e.abrupt("return",(0,t.Z)({id:s.id},r));case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error adding document: ",e.t0),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n,r){var c,s,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=(0,a.JU)(o.ZP,l,n),!(r.coverImage&&r.coverImage.length>0)){e.next=7;break}return e.next=5,u(r.coverImage,"journal_covers");case 5:s=e.sent,r.coverImage=s;case 7:return d={},Object.keys(r).forEach((function(e){var n=r[e];if(void 0!==n){var t=e.replace(/[~*/[\]]/g,"_").replace(/\s+/g,"_");d[t]=n}})),e.next=11,(0,a.r7)(c,d);case 11:return console.log("Ijin document updated with ID: ",n),e.abrupt("return",(0,t.Z)({id:n},d));case 15:throw e.prev=15,e.t0=e.catch(0),console.error("Error updating ijin document: ",e.t0),new Error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,a.JU)(o.ZP,l,n),e.next=4,(0,a.oe)(r);case 4:console.log("Ijin document deleted with ID: ",n),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error deleting ijin document: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.PL)((0,a.hJ)(o.ZP,l));case 3:return n=e.sent,r=n.docs.map((function(e){var n=e.data();return{id:e.id,title:n.title||"",issnPrint:n.issnPrint||"",issnOnline:n.issnOnline||"",yearOfStarting:n.yearOfStarting||"",licenseType:n.licenseType||"",ijin:n.ijin||"",email:n.email||"",coverImage:n.coverImage||""}})),e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting ijin documents: ",e.t0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(n){var r,t,c,s,u,d,h,p,f,Z,x;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=(0,a.JU)(o.ZP,l,n),e.next=4,(0,a.QT)(r);case 4:if((t=e.sent).exists()){e.next=8;break}throw console.error("No such ijin document with ID: ".concat(n)),new Error("No such document!");case 8:return c=t.data(),s=c.title,u=c.issnPrint,d=c.issnOnline,h=c.yearOfStarting,p=c.licenseType,f=c.ijin,Z=c.email,x=c.coverImage,e.abrupt("return",{id:t.id,title:s||"",issnPrint:u||"",issnOnline:d||"",yearOfStarting:h||"",licenseType:p||"",ijin:f||"",email:Z||"",coverImage:x||""});case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error fetching ijin by ID:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()},27657:function(e,n,r){r.r(n);var t=r(74165),i=r(15861),c=r(29439),a=r(605),s=r(39874),o=r(80654),l=r(44874),u=r(90495),d=r(59629),h=r(37982),p=r(53805),f=r(18104),Z=r(73803),x=r(47313),v=r(58467),j=r(2135),m=r(58772),g=r(72805),w=r(8730),y=r(41034),k=r(73493),b=r(46417);n.default=function(){var e=(0,x.useState)([]),n=(0,c.Z)(e,2),r=n[0],I=n[1],S=(0,x.useState)([]),P=(0,c.Z)(S,2),D=P[0],O=(P[1],(0,x.useState)(0)),E=(0,c.Z)(O,2),C=E[0],_=E[1],L=(0,x.useState)(5),T=(0,c.Z)(L,2),N=T[0],J=T[1],U=(0,x.useState)(null),M=(0,c.Z)(U,2),F=M[0],V=(M[1],(0,x.useState)(null)),W=(0,c.Z)(V,2),A=W[0],R=(W[1],(0,x.useState)(!1)),X=(0,c.Z)(R,2),q=(X[0],X[1],(0,x.useState)(!1)),B=(0,c.Z)(q,2),G=B[0],H=B[1],K=(0,x.useState)(null),Q=(0,c.Z)(K,2),Y=Q[0],z=Q[1],$=(0,x.useState)([]),ee=(0,c.Z)($,2),ne=(ee[0],ee[1],(0,x.useState)(null)),re=(0,c.Z)(ne,2),te=(re[0],re[1],(0,x.useState)(null)),ie=(0,c.Z)(te,2),ce=(ie[0],ie[1],(0,x.useState)(null)),ae=(0,c.Z)(ce,2),se=(ae[0],ae[1],(0,y.Ds)().enqueueSnackbar),oe=(0,v.s0)();(0,x.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,k.ku)();case 3:n=e.sent,I(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching properties:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var le=function(){H(!1)},ue=function(){var e=(0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=16;break}return e.prev=1,e.next=4,(0,k.LX)(Y);case 4:console.log("Property deleted successfully"),se("Property deleted successfully",{variant:"success"}),I(r.filter((function(e){return e.id!==Y}))),le(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error deleting property:",e.t0),se("Error deleting property",{variant:"error"});case 14:e.next=18;break;case 16:console.error("No property ID selected for deletion"),se("No property ID selected for deletion",{variant:"warning"});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),de=r.filter((function(e){var n=!0,r=e.date;return r instanceof Date||(r=r&&"function"===typeof r.toDate?r.toDate():new Date(r)),F&&(n=n&&r>=new Date(F)),A&&(n=n&&r<=new Date(A)),n}));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Z,{heading:"IJIN List",links:[{name:"Dashboard"},{name:"IJIN"},{name:"List"}],action:(0,b.jsx)(a.Z,{component:j.rU,to:"/dashboard/ijin/new",variant:"contained",startIcon:(0,b.jsx)(w.Z,{icon:"eva:plus-fill"}),children:"New"})}),(0,b.jsx)(s.Z,{component:o.Z,children:(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(u.Z,{children:(0,b.jsxs)(d.Z,{children:[(0,b.jsx)(h.Z,{padding:"checkbox",children:"ID"}),(0,b.jsx)(h.Z,{children:"Title"}),(0,b.jsx)(h.Z,{children:"ISSN Print"}),(0,b.jsx)(h.Z,{children:"ISSN Online"}),(0,b.jsx)(h.Z,{children:"Year of Starting"}),(0,b.jsx)(h.Z,{children:"License Type"}),(0,b.jsx)(h.Z,{children:"IJIN"}),(0,b.jsx)(h.Z,{children:"Email"}),(0,b.jsx)(h.Z,{children:"Cover Image"}),(0,b.jsx)(h.Z,{children:"View"}),(0,b.jsx)(h.Z,{children:"Actions"})]})}),(0,b.jsx)(p.Z,{children:de.slice(C*N,C*N+N).map((function(e,n){var r,t=(r=e.id,-1!==D.indexOf(r));return(0,b.jsxs)(d.Z,{hover:!0,role:"checkbox","aria-checked":t,selected:t,children:[(0,b.jsx)(h.Z,{children:C*N+n+1}),(0,b.jsx)(h.Z,{children:e.title}),(0,b.jsx)(h.Z,{children:e.issnPrint}),(0,b.jsx)(h.Z,{children:e.issnOnline}),(0,b.jsx)(h.Z,{children:e.yearOfStarting}),(0,b.jsx)(h.Z,{children:e.licenseType}),(0,b.jsx)(h.Z,{children:e.ijin}),(0,b.jsx)(h.Z,{children:e.email}),(0,b.jsx)(h.Z,{children:(0,b.jsx)("img",{src:e.coverImage,alt:e.title,style:{width:50,height:50}})}),(0,b.jsx)(h.Z,{children:(0,b.jsx)(f.Z,{onClick:function(){return n=e.id,void oe("/dashboard/ijin/".concat(n));var n},children:(0,b.jsx)(w.Z,{icon:"eva:eye-fill"})})}),(0,b.jsxs)(h.Z,{children:[(0,b.jsx)(f.Z,{onClick:function(){z(e.id),H(!0)},sx:{color:"error.main"},children:(0,b.jsx)(w.Z,{icon:"eva:trash-2-outline"})}),(0,b.jsx)(f.Z,{onClick:function(){return n=e.id,void oe("/dashboard/ijin/".concat(n,"/edit"));var n},children:(0,b.jsx)(w.Z,{icon:"eva:edit-fill"})})]})]},e.id)}))})]})}),(0,b.jsx)(m.Z,{open:G,onClose:le,title:"Delete",content:"Are you sure want to delete?",action:(0,b.jsx)(a.Z,{variant:"contained",color:"error",onClick:ue,children:"Delete"})}),(0,b.jsx)(Z.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:de.length,rowsPerPage:N,page:C,onPageChange:function(e,n){_(n)},onRowsPerPageChange:function(e){J(parseInt(e.target.value,10)),_(0)}})]})}}}]);