"use strict";(self.webpackChunk_Minimall_Minimall_kit_react=self.webpackChunk_Minimall_Minimall_kit_react||[]).push([[1282],{52456:function(e,r,t){t.d(r,{Nd:function(){return d},Y:function(){return Z},_$:function(){return w},fR:function(){return h},mo:function(){return m},r$:function(){return x},wI:function(){return v}});var n=t(1413),o=t(74165),s=t(15861),a=t(90573),u=t(36797),c=t(36974),i="thesis",f=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t,n,a,c=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:"thesis_files",n=(0,u.cF)(),a=r.map(function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var s,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,u.iH)(n,"".concat(t,"/").concat(r.name)),e.next=3,(0,u.KV)(s,r);case 3:return a=e.sent,e.abrupt("return",(0,u.Jt)(a.ref));case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),e.abrupt("return",Promise.all(a));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.PL)((0,a.hJ)(c.ZP,i));case 2:return r=e.sent,t=r.size+1,e.abrupt("return","IJI".concat(t.toString().padStart(7,"0")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(new Date).getFullYear();return{volume:e-2023,year:e}},h=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t,s,u,h,d,v,Z,m;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:if(t=e.sent,s=p(),u=s.volume,h=s.year,d={thesisId:t,title:r.title,collegeUniversity:r.collegeUniversity||"",author:r.author||"",volume:u,year:h},!(r.photoId&&r.photoId.length>0)){e.next=11;break}return e.next=9,f(r.photoId,"thesis_photos");case 9:v=e.sent,d.photoId=v;case 11:if(!(r.fullPdf&&r.fullPdf.length>0)){e.next=16;break}return e.next=14,f(r.fullPdf,"thesis_pdfs");case 14:Z=e.sent,d.fullPdf=Z;case 16:return e.next=18,(0,a.ET)((0,a.hJ)(c.ZP,i),d);case 18:return m=e.sent,console.log("Thesis document written with ID: ",m.id),e.abrupt("return",(0,n.Z)({id:m.id},d));case 23:throw e.prev=23,e.t0=e.catch(0),console.error("Error adding thesis: ",e.t0),new Error(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r,t){var n,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=(0,a.JU)(c.ZP,i,r),!(t.photoId&&t.photoId.length>0)){e.next=7;break}return e.next=5,f(t.photoId,"thesis_photos");case 5:s=e.sent,t.photoId=s;case 7:if(!(t.fullPdf&&t.fullPdf.length>0)){e.next=12;break}return e.next=10,f(t.fullPdf,"thesis_pdfs");case 10:u=e.sent,t.fullPdf=u;case 12:return e.next=14,(0,a.r7)(n,t);case 14:console.log("Thesis updated with ID: ",r),e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(0),console.error("Error updating thesis: ",e.t0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(r,t){return e.apply(this,arguments)}}(),v=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,a.JU)(c.ZP,i,r),e.next=4,(0,a.oe)(t);case 4:console.log("Thesis deleted with ID: ",r),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error deleting thesis: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var r,t,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.PL)((0,a.hJ)(c.ZP,"thesis"));case 3:return r=e.sent,t=r.docs.map((function(e){return(0,n.Z)({id:e.id},e.data())})),s=t.reduce((function(e,r){var t=r.volume;return e[t]||(e[t]=[]),e[t].push(r),e}),{}),u=Object.keys(s).map((function(e){return{volume:e,theses:s[e]}})),e.abrupt("return",u);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Error getting theses: ",e.t0),new Error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,a.JU)(c.ZP,i,r),e.next=4,(0,a.QT)(t);case 4:if((s=e.sent).exists()){e.next=8;break}throw console.error("No such thesis with ID: ".concat(r)),new Error("No such document!");case 8:return e.abrupt("return",(0,n.Z)({id:s.id},s.data()));case 11:throw e.prev=11,e.t0=e.catch(0),console.error("Error getting thesis: ",e.t0),new Error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),w=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t,s,u,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"!==typeof r&&null!==r){e.next=3;break}throw new Error("Volume is undefined or null");case 3:return console.log("Fetching theses for volume:",r),t=(0,a.hJ)(c.ZP,"thesis"),s=(0,a.IO)(t,(0,a.ar)("volume","==",r)),e.next=8,(0,a.PL)(s);case 8:if(!(u=e.sent).empty){e.next=12;break}throw console.error("No theses found for volume: ".concat(r)),new Error("No documents found!");case 12:return i=[],u.forEach((function(e){i.push((0,n.Z)({id:e.id},e.data()))})),e.abrupt("return",{volume:r,theses:i});case 17:throw e.prev=17,e.t0=e.catch(0),console.error("Error getting theses: ",e.t0),new Error(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r,t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,a.JU)(c.ZP,i,r),e.next=4,(0,a.r7)(n,{UserStatus:t});case 4:console.log("User status updated to ".concat(t," for User ID: ").concat(r)),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error updating User status: ",e.t0),new Error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r,t){return e.apply(this,arguments)}}()},11282:function(e,r,t){t.r(r);var n=t(74165),o=t(15861),s=t(29439),a=t(82937),u=t(92484),c=t(82821),i=t(42669),f=t(47313),l=t(58467),p=t(41034),h=t(52456),d=t(46417);r.default=function(){var e=(0,f.useState)([]),r=(0,s.Z)(e,2),t=r[0],v=r[1],Z=(0,f.useState)(0),m=(0,s.Z)(Z,2),w=m[0],x=(m[1],(0,f.useState)(5)),g=(0,s.Z)(x,2),k=g[0],b=(g[1],(0,p.Ds)().enqueueSnackbar),P=(0,l.s0)();(0,f.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Y)();case 3:r=e.sent,v(r),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching theses:",e.t0),b("Error fetching theses",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[b]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(a.ZP,{container:!0,spacing:3,style:{padding:"2%",marginLeft:"10%",width:"85%"},children:t.slice(w*k,w*k+k).map((function(e){var r=e.theses.length>0?e.theses[0].year:"Unknown Year";return(0,d.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,d.jsx)(u.Z,{sx:{maxWidth:345,Height:200,display:"flex",flexDirection:"column",justifyContent:"space-between"},children:(0,d.jsx)(c.Z,{sx:{flexGrow:1},children:(0,d.jsxs)(i.Z,{variant:"h6",component:"div",onClick:function(){return r=e.volume,console.log("Navigating to:","/thesis/".concat(r)),void P("/dashboard/thesis/".concat(r));var r},children:["Volume - ",e.volume," - ",r]})})})},e.volume)}))})})}},82821:function(e,r,t){t.d(r,{Z:function(){return Z}});var n=t(87462),o=t(63366),s=t(47313),a=t(83061),u=t(21921),c=t(64164),i=t(11236),f=t(77430),l=t(32298);function p(e){return(0,l.Z)("MuiCardContent",e)}(0,f.Z)("MuiCardContent",["root"]);var h=t(46417),d=["className","component"],v=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),Z=s.forwardRef((function(e,r){var t=(0,i.Z)({props:e,name:"MuiCardContent"}),s=t.className,c=t.component,f=void 0===c?"div":c,l=(0,o.Z)(t,d),Z=(0,n.Z)({},t,{component:f}),m=function(e){var r=e.classes;return(0,u.Z)({root:["root"]},p,r)}(Z);return(0,h.jsx)(v,(0,n.Z)({as:f,className:(0,a.Z)(m.root,s),ownerState:Z,ref:r},l))}))},92484:function(e,r,t){t.d(r,{Z:function(){return m}});var n=t(87462),o=t(63366),s=t(47313),a=t(83061),u=t(21921),c=t(64164),i=t(11236),f=t(80654),l=t(77430),p=t(32298);function h(e){return(0,p.Z)("MuiCard",e)}(0,l.Z)("MuiCard",["root"]);var d=t(46417),v=["className","raised"],Z=(0,c.ZP)(f.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(){return{overflow:"hidden"}})),m=s.forwardRef((function(e,r){var t=(0,i.Z)({props:e,name:"MuiCard"}),s=t.className,c=t.raised,f=void 0!==c&&c,l=(0,o.Z)(t,v),p=(0,n.Z)({},t,{raised:f}),m=function(e){var r=e.classes;return(0,u.Z)({root:["root"]},h,r)}(p);return(0,d.jsx)(Z,(0,n.Z)({className:(0,a.Z)(m.root,s),elevation:f?8:void 0,ref:r,ownerState:p},l))}))}}]);