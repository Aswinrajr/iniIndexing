"use strict";(self.webpackChunk_Minimall_Minimall_kit_react=self.webpackChunk_Minimall_Minimall_kit_react||[]).push([[9508],{58772:function(e,r,t){t.d(r,{Z:function(){return h}});var n=t(1413),a=t(45987),s=t(57631),i=t(5448),c=t(71235),o=t(66382),l=t(605),u=t(46417),d=["title","content","action","open","onClose"];function h(e){var r=e.title,t=e.content,h=e.action,p=e.open,f=e.onClose,x=(0,a.Z)(e,d);return(0,u.jsxs)(s.Z,(0,n.Z)((0,n.Z)({fullWidth:!0,maxWidth:"xs",open:p,onClose:f},x),{},{children:[(0,u.jsx)(i.Z,{sx:{pb:2},children:r}),t&&(0,u.jsxs)(c.Z,{sx:{typography:"body2"},children:[" ",t," "]}),(0,u.jsxs)(o.Z,{children:[h,(0,u.jsx)(l.Z,{variant:"outlined",color:"inherit",onClick:f,children:"Cancel"})]})]}))}},48669:function(e,r,t){t.d(r,{Z:function(){return f}});var n=t(1413),a=t(45987),s=t(16157),i=t(62463),c=t(42669),o=t(80493),l=t(77449),u=t(2135),d=t(46417);function h(e){var r=e.link,t=e.activeLast,a=e.disabled,i=r.name,c=r.href,o=r.icon,h=(0,n.Z)({display:"inline-flex",alignItems:"center",color:"text.primary"},a&&!t&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}),p=(0,d.jsxs)(d.Fragment,{children:[o&&(0,d.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:o}),i]});return c?(0,d.jsx)(l.Z,{component:u.rU,to:c,sx:h,children:p}):(0,d.jsxs)(s.Z,{sx:h,children:[" ",p," "]})}var p=["links","action","heading","moreLink","activeLast","sx"];function f(e){var r=e.links,t=e.action,u=e.heading,f=e.moreLink,Z=e.activeLast,v=e.sx,m=(0,a.Z)(e,p),b=r[r.length-1].name;return(0,d.jsxs)(s.Z,{sx:(0,n.Z)({mb:5},v),children:[(0,d.jsxs)(i.Z,{direction:"row",alignItems:"center",children:[(0,d.jsxs)(s.Z,{sx:{flexGrow:1},children:[u&&(0,d.jsx)(c.Z,{variant:"h4",gutterBottom:!0,children:u}),!!r.length&&(0,d.jsx)(o.Z,(0,n.Z)((0,n.Z)({separator:(0,d.jsx)(x,{})},m),{},{children:r.map((function(e){return(0,d.jsx)(h,{link:e,activeLast:Z,disabled:e.name===b},e.name||"")}))}))]}),t&&(0,d.jsxs)(s.Z,{sx:{flexShrink:0},children:[" ",t," "]})]}),!!f&&(0,d.jsx)(s.Z,{sx:{mt:2},children:f.map((function(e){return(0,d.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}function x(){return(0,d.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},72805:function(e,r,t){t.d(r,{Z:function(){return n.Z}});var n=t(48669)},95183:function(e,r,t){t.d(r,{Oq:function(){return h},bg:function(){return p},in:function(){return f},pl:function(){return x},sF:function(){return d}});var n=t(1413),a=t(74165),s=t(15861),i=t(90573),c=t(36797),o=t(36974),l="abstracts",u=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var t,n,s,i,o=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:"abstract_assets",n=(0,c.cF)(),s=(0,c.iH)(n,"".concat(t,"/").concat(r.name)),e.next=5,(0,c.KV)(s,r);case 5:return i=e.sent,e.abrupt("return",(0,c.Jt)(i.ref));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var t,s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={journalName:r.journalName||"",issn:r.issn||"",publisher:r.publisher||"",title:r.title||"",affiliation:r.affiliation||"",authorName:r.authorName||"",abstract:r.abstract||"",linkDOI:r.linkDOI||"",articleType:r.articleType||""},!r.assetFile){e.next=7;break}return e.next=5,u(r.assetFile,"abstract_assets");case 5:s=e.sent,t.assetFile=s;case 7:return e.next=9,(0,i.ET)((0,i.hJ)(o.ZP,l),t);case 9:return c=e.sent,console.log("Abstract document written with ID: ",c.id),e.abrupt("return",(0,n.Z)({id:c.id},t));case 14:throw e.prev=14,e.t0=e.catch(0),console.error("Error adding abstract document: ",e.t0),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r,t){var s,c,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=(0,i.JU)(o.ZP,l,r),!t.assetFile){e.next=7;break}return e.next=5,u(t.assetFile,"abstract_assets");case 5:c=e.sent,t.assetFile=c;case 7:return d={},Object.keys(t).forEach((function(e){var r=t[e];if(void 0!==r){var n=e.replace(/[~*/[\]]/g,"_").replace(/\s+/g,"_");d[n]=r}})),e.next=11,(0,i.r7)(s,d);case 11:return console.log("Abstract document updated with ID: ",r),e.abrupt("return",(0,n.Z)({id:r},d));case 15:throw e.prev=15,e.t0=e.catch(0),console.error("Error updating abstract document: ",e.t0),new Error(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,i.JU)(o.ZP,l,r),e.next=4,(0,i.oe)(t);case 4:console.log("Abstract document deleted with ID: ",r),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error deleting abstract document: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var r,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.PL)((0,i.hJ)(o.ZP,l));case 3:return r=e.sent,t=r.docs.map((function(e){var r=e.data();return{id:e.id,journalName:r.journalName||"",issn:r.issn||"",publisher:r.publisher||"",title:r.title||"",affiliation:r.affiliation||"",authorName:r.authorName||"",abstract:r.abstract||"",linkDOI:r.linkDOI||"",articleType:r.articleType||"",assetFile:r.assetFile||null}})),e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Error getting abstract documents: ",e.t0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var t,n,s,c,u,d,h,p,f,x,Z,v,m;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(0,i.JU)(o.ZP,l,r),e.next=4,(0,i.QT)(t);case 4:if((n=e.sent).exists()){e.next=8;break}throw console.error("No such abstract document with ID: ".concat(r)),new Error("No such document!");case 8:return s=n.data(),c=s.journalName,u=s.issn,d=s.publisher,h=s.title,p=s.affiliation,f=s.authorName,x=s.abstract,Z=s.linkDOI,v=s.articleType,m=s.assetFile,e.abrupt("return",{id:n.id,journalName:c||"",issn:u||"",publisher:d||"",title:h||"",affiliation:p||"",authorName:f||"",abstract:x||"",linkDOI:Z||"",articleType:v||"",assetFile:m||null});case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error getting abstract document: ",e.t0),new Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}()},89508:function(e,r,t){t.r(r);t(93433);var n=t(74165),a=t(15861),s=t(29439),i=t(605),c=t(39874),o=t(80654),l=t(44874),u=t(90495),d=t(59629),h=t(37982),p=t(53805),f=t(18104),x=t(73803),Z=t(47313),v=t(58467),m=t(2135),b=t(58772),j=t(72805),g=t(8730),k=t(41034),w=t(95183),y=t(46417);r.default=function(){var e=(0,Z.useState)([]),r=(0,s.Z)(e,2),t=r[0],N=r[1],D=(0,Z.useState)([]),E=(0,s.Z)(D,2),I=E[0],C=(E[1],(0,Z.useState)(0)),F=(0,s.Z)(C,2),P=F[0],_=F[1],S=(0,Z.useState)(5),J=(0,s.Z)(S,2),L=J[0],O=J[1],T=(0,Z.useState)(null),A=(0,s.Z)(T,2),U=(A[0],A[1],(0,Z.useState)(null)),M=(0,s.Z)(U,2),W=(M[0],M[1],(0,Z.useState)(null)),q=(0,s.Z)(W,2),R=(q[0],q[1],(0,Z.useState)(null)),V=(0,s.Z)(R,2),B=(V[0],V[1],(0,Z.useState)(null)),G=(0,s.Z)(B,2),H=G[0],K=G[1],Q=(0,Z.useState)(!1),z=(0,s.Z)(Q,2),X=z[0],Y=z[1],$=(0,k.Ds)().enqueueSnackbar,ee=(0,v.s0)();(0,Z.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,w.in)();case 3:r=e.sent,N(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching abstracts:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var re=function(){Y(!1)},te=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=16;break}return e.prev=1,e.next=4,(0,w.bg)(H);case 4:console.log("Property deleted successfully"),$("Property deleted successfully",{variant:"success"}),N(t.filter((function(e){return e.id!==H}))),re(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error deleting property:",e.t0),$("Error deleting property",{variant:"error"});case 14:e.next=18;break;case 16:console.error("No property ID selected for deletion"),$("No property ID selected for deletion",{variant:"warning"});case 18:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),ne=t.filter((function(e){return!0}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(j.Z,{heading:"Abstract - Journal List",links:[{name:"Dashboard"},{name:"Abstract - Journal"},{name:"List"}],action:(0,y.jsx)(i.Z,{component:m.rU,to:"/dashboard/abstractjournal/new",variant:"contained",startIcon:(0,y.jsx)(g.Z,{icon:"eva:plus-fill"}),children:"New"})}),(0,y.jsx)(c.Z,{component:o.Z,children:(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(u.Z,{children:(0,y.jsxs)(d.Z,{children:[(0,y.jsx)(h.Z,{children:"ID"}),(0,y.jsx)(h.Z,{children:"Title"}),(0,y.jsx)(h.Z,{children:"Journal"}),(0,y.jsx)(h.Z,{children:"Author"}),(0,y.jsx)(h.Z,{children:"Publisher"}),(0,y.jsx)(h.Z,{children:"View"}),(0,y.jsx)(h.Z,{children:"Actions"})]})}),(0,y.jsx)(p.Z,{children:ne.slice(P*L,P*L+L).map((function(e,r){var t,n=(t=e.id,-1!==I.indexOf(t));return(0,y.jsxs)(d.Z,{hover:!0,role:"checkbox","aria-checked":n,selected:n,children:[(0,y.jsx)(h.Z,{children:P*L+r+1}),(0,y.jsx)(h.Z,{children:e.title}),(0,y.jsx)(h.Z,{children:e.journalName}),(0,y.jsx)(h.Z,{children:e.authorName}),(0,y.jsx)(h.Z,{children:e.publisher}),(0,y.jsx)(h.Z,{children:(0,y.jsx)(f.Z,{onClick:function(){return r=e.id,void ee("/dashboard/abstract/".concat(r));var r},children:(0,y.jsx)(g.Z,{icon:"eva:eye-fill"})})}),(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(f.Z,{onClick:function(){K(e.id),Y(!0)},sx:{color:"error.main"},children:(0,y.jsx)(g.Z,{icon:"eva:trash-2-outline"})}),(0,y.jsx)(f.Z,{onClick:function(r){return t=e.id,void ee("/dashboard/abstract/".concat(t,"/edit"));var t},children:(0,y.jsx)(g.Z,{icon:"eva:edit-fill"})})]})]},e.id)}))})]})}),(0,y.jsx)(b.Z,{open:X,onClose:re,title:"Delete",content:"Are you sure want to delete?",action:(0,y.jsx)(i.Z,{variant:"contained",color:"error",onClick:te,children:"Delete"})}),(0,y.jsx)(x.Z,{component:"div",count:ne.length,page:P,onPageChange:function(e,r){_(r)},rowsPerPage:L,onRowsPerPageChange:function(e){O(parseInt(e.target.value,10)),_(0)}})]})}}}]);